online allocation of display ads with smooth delivery display ads on the internet are often sold in bundles of thousands or millions of impressions over a particular time period , typically weeks or months . ad serving systems that assign ads to pages on behalf of publishers must satisfy these contracts , but at the same time try to maximize overall quality of placement . this is usually modeled in the literature as an online allocation problem , where contracts are represented by overall delivery constraints over a finite time horizon . however this model misses an important aspect of ad delivery : time homogeneity . advertisers who buy these packages expect their ad to be shown smoothly throughout the purchased time period , in order to reach a wider audience , to have a sustained impact , and to support the ads they are running on other media ( e.g. , television ) . in this paper we formalize this problem using several nested packing constraints , and develop a tight ( 1-1 \/ e ) - competitive online algorithm for this problem . our algorithms and analysis require novel techniques as they involve online computation of multiple dual variables per ad . we then show the effectiveness of our algorithms through exhaustive simulation studies on real data sets .