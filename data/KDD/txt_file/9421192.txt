joint optimization of wrapper generation and template detection many websites have large collections of pages generated dynamically from an underlying structured source like a database . the data of a category are typically encoded into similar pages by a common script or template . in recent years , some value-added services , such as comparison shopping and vertical search in a specific domain , have motivated the research of extraction technologies with high accuracy . almost all previous works assume that input pages of a wrapper induction system conform to a common template and they can be easily identified in terms of a common schema of url . however , we observed that it is hard to distinguish different templates using dynamic urls today . moreover , since extraction accuracy heavily depends on how consistent input pages are , we argue that it is risky to determine whether pages share a common template solely based on urls . instead , we propose a new approach that utilizes similarity between pages to detect templates . our approach separates pages with notable inner differences and then generates wrappers , respectively . experimental results show that our proposed approach is feasible and effective for improving extraction accuracy .