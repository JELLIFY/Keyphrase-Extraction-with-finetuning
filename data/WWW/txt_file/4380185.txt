wap5 : black-box performance debugging for wide-area systems wide-area distributed applications are challenging to debug , optimize , and maintain . we present wide-area project 5 ( wap5 ) , which aims to make these tasks easier by exposing the causal structure of communication within an application and by exposing delays that imply bottlenecks . these bottlenecks might not otherwise be obvious , with or without the application 's source code . previous research projects have presented algorithms to reconstruct application structure and the corresponding timing information from black-box message traces of local-area systems . in this paper we present ( 1 ) a new algorithm for reconstructing application structure in both local - and wide-area distributed systems , ( 2 ) an infrastructure for gathering application traces in planetlab , and ( 3 ) our experiences tracing and analyzing three systems : codeen and coral , two content-distribution networks in planetlab ; and slurpee , an enterprise-scale incident-monitoring system . 